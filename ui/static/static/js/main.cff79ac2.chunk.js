(this["webpackJsonpfresh-react-app"]=this["webpackJsonpfresh-react-app"]||[]).push([[0],{103:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(40),i=n.n(s),c=(n(103),n(47)),o=n(16),u=n(42),l=n(17),d=n(18),p=n(20),h=n(19),j=n(183),b=n(182),v=n(1);function _(e){window.App.Toasts.errorToast(e)}var f=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={toasts:[]},e}return Object(d.a)(n,[{key:"errorToast",value:function(e){var t={style:{backgroundColor:"red"}};this.toast(e,t)}},{key:"successToast",value:function(e){var t={style:{backgroundColor:"green"}};this.toast(e,t)}},{key:"toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(b.a)(),a={_id:n,message:e,props:t};this.addToast(a);var r=this;setTimeout((function(){var e=r.state.toasts.filter((function(e){return e._id!==n})),t=Object(u.a)(Object(u.a)({},r.state),{},{toasts:e});r.setState(t)}),4e3)}},{key:"addToast",value:function(e){var t=this.state.toasts;t.push(e);var n=Object(u.a)(Object(u.a)({},this.state),{},{toasts:t});this.setState(n)}},{key:"componentDidMount",value:function(){window.App.Toasts={errorToast:this.errorToast.bind(this),successToast:this.successToast.bind(this),toast:this.toast.bind(this)}}},{key:"render",value:function(){return Object(v.jsx)(a.Fragment,{children:this.state.toasts.map((function(e){var t=e.message,n=e.props;return Object(v.jsx)(j.a,{message:t,ContentProps:n,open:!0})}))})}}]),n}(a.Component),O=n(30),m=n.n(O),y=n(38),g=n(37),x=n(85),w=n.n(x),k=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).___state_update_locks___=new w.a,a.___state_update_in_progress=!1,a.onChangeHandlerGenerator=a.onChangeHandlerGenerator.bind(Object(g.a)(a)),a}return Object(d.a)(n,[{key:"___lock_state_update___",value:function(){var e=this;return new Promise((function(t){e.___state_update_locks___.enqueue(t),e.___state_update_in_progress||(e.___state_update_in_progress=!0,e.___process_next_update___())}))}},{key:"___process_next_update___",value:function(){var e=this.___state_update_locks___.peek();e?e():this.___state_update_in_progress=!1}},{key:"___unlock_state_update___",value:function(){this.___state_update_locks___.dequeue(),this.___process_next_update___()}},{key:"_updateState",value:function(){var e=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.___lock_state_update___();case 2:return n=Object(u.a)(Object(u.a)({},this.state||{}),t),e.next=5,this.setState(n);case 5:this.___unlock_state_update___();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHandlerGenerator",value:function(e){return function(e){var t;t="object"===typeof e?e.target.value:e;var n=(this.componentInstance.state||{}).values||{};n[this.name]=t,this.componentInstance._updateState({values:n})}.bind({componentInstance:this,name:e})}},{key:"render",value:function(){return Object(v.jsxs)("p",{children:["Please implement ",Object(v.jsx)("code",{children:"render()"})]})}}]),n}(r.a.Component),C=n(186),A=n(181),T=n(184);function I(){var e=document.getElementById("navbar").offsetHeight+"px";document.documentElement.style.setProperty("--navbar-height",e)}var E=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",I),I()}},{key:"render",value:function(){return Object(v.jsx)(C.a,{id:"navbar",style:{color:"white"},children:Object(v.jsxs)(T.a,{container:!0,children:[Object(v.jsx)(T.a,{item:!0,xs:8,sm:10,children:Object(v.jsx)("h4",{style:{letterSpacing:3,fontFamily:"sans-serif",fontSize:"20px",paddingLeft:"20px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"LIVESTOCK TRACKER DEMO"})}),Object(v.jsx)(T.a,{item:!0,xs:4,sm:2,children:Object(v.jsx)("div",{style:{height:"100%"},className:"vh-align",children:Object(v.jsx)(A.a,{style:{color:"blue",background:"white"},component:c.b,to:"/",variant:"contained",children:"LOG OUT"})})})]})})}}]),n}(k),M=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;if(Object(l.a)(this,n),a=t.call(this,e),void 0===window.App&&(window.App={}),void 0===window.App.history){window.App.history=e.history;var r=function(e){window.App.history.push(e)};n.redirect=r,window.App.redirect=r}return a}return Object(d.a)(n,[{key:"_componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(y.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.innerHeight+"px",document.documentElement.style.setProperty("--window-height",t),e.next=4,this._componentDidMount();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){return Object(v.jsxs)("h1",{children:["Please implement ",Object(v.jsx)("code",{children:"_render()"})]})}},{key:"render",value:function(){return Object(v.jsx)("div",{style:{paddingTop:"var(--navbar-height)"},children:this._render()})}}]),n}(k),S=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{style:{textAlign:"center",color:"grey"},children:"REGISTERED CATTLE"}),Object(v.jsx)(T.a,{container:!0,children:Object(v.jsx)(T.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsx)(L,{})})})]})}}]),n}(M),L=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{style:{padding:20},children:Object(v.jsxs)(T.a,{style:{border:"1px blue solid"},container:!0,children:[Object(v.jsx)(T.a,{item:!0,xs:9,children:Object(v.jsx)("div",{style:{height:"100%"},className:"vh-align",children:Object(v.jsx)("h4",{children:"1001"})})}),Object(v.jsx)(T.a,{item:!0,xs:3,children:Object(v.jsx)("div",{style:{height:"100%"},className:"vh-align",children:Object(v.jsx)(A.a,{variant:"contained",component:c.b,to:"/cattle/1001",children:"TRACK"})})})]})})}}]),n}(k),P=S,D=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).id=Object(b.a)(),a.script_id="brtforce-gmap-script",a}return Object(d.a)(n,[{key:"updateMarkerAndCenterPosition",value:function(){try{var e=this.props,t={lat:e.lat,lng:e.long};this.map.setCenter(t),this.marker.setPosition(t)}catch(n){console.log(n)}}},{key:"createMapAndMarker",value:function(){try{var e=this.props,t={lat:e.lat,lng:e.long},n=this.props.id||this.id,a=new window.google.maps.Map(document.getElementById(n),{zoom:14,center:t}),r=new window.google.maps.Marker({position:t,map:a,icon:"/img/cowson.png"});this.map=a,this.marker=r}catch(s){console.log(s)}}},{key:"componentDidUpdate",value:function(e){var t=this.props;e.lat===t.lat&&e.long===t.long||this.updateMarkerAndCenterPosition()}},{key:"componentDidMount",value:function(){if(null===document.getElementById(this.script_id)){var e=document.createElement("script");e.setAttribute("id",this.script_id),e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCHVEW419nFc2wjmO6eYEgQXyAoJy62dE&libraries=&v=weekly";var t=this;e.onload=function(){t.createMapAndMarker(),t.updateMarkerAndCenterPosition()},e.async=!0,document.body.append(e)}else this.updateMarkerAndCenterPosition()}},{key:"render",value:function(){return Object(v.jsx)("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center",margin:20},id:this.props.id||this.id,children:Object(v.jsx)("span",{style:{color:"grey",fontSize:20,fontFamily:"Arial"},children:"The location will be displayed here."})})}}]),n}(k),F=n(87),B=n.n(F),N=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={location:{lat:0,long:0}},a.updateLocation=a.updateLocation.bind(Object(g.a)(a)),a}return Object(d.a)(n,[{key:"updateLocation",value:function(){var e=Object(y.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("/api/coordinates");case 3:t=e.sent,n=t.data,this._updateState({location:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_componentDidMount",value:function(){setInterval(this.updateLocation,3e3)}},{key:"_render",value:function(){var e,t,n=this.state.location,a=n.lat,r=n.long,s=n.outOfBounds;return void 0!==s&&s?(t="OUT OF BOUNDS",e="red"):(t="IN RADIUS",e="green"),Object(v.jsxs)("div",{children:[Object(v.jsxs)("h1",{style:{paddingLeft:20},children:["LIVE LOCATION OF COW ",Object(v.jsx)("span",{style:{color:"green"},children:"1001"})]}),Object(v.jsxs)("h3",{style:{paddingLeft:20},children:["STATUS: ",Object(v.jsx)("span",{style:{color:e},children:t})]}),Object(v.jsx)(D,{lat:a,long:r})]})}}]),n}(M),z=n(180),G={display:"flex",alignItems:"center",justifyContent:"center",height:"calc(var(--window-height) - var(--navbar-height))"},H={width:"300px",border:"1px solid var(--primary-color)"},U={margin:0,padding:"10px",color:"white",background:"var(--primary-color)",textAlign:"center",fontFamily:"sans-serif"},R=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(d.a)(n,[{key:"submit",value:function(){var e=Object(y.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.values,n=t.username,a=t.password,n){e.next=4;break}return document.getElementById("txt-username").focus(),e.abrupt("return",_("Provide a username"));case 4:if(a){e.next=7;break}return document.getElementById("txt-password").focus(),e.abrupt("return",_("Provide a password"));case 7:if("demo"===n.toLowerCase()&&"demo2021"===a){e.next=9;break}return e.abrupt("return",_("Invalid credentials"));case 9:M.redirect("/cattle");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_render",value:function(){var e=this.state.values||{},t=e.username,n=e.password,a=this.onChangeHandlerGenerator.bind(this),r=this.submit.bind(this),s={marginTop:10};return Object(v.jsx)("div",{style:G,children:Object(v.jsxs)("div",{style:H,children:[Object(v.jsx)("h5",{style:U,children:"LOGIN"}),Object(v.jsxs)("div",{style:{margin:12},children:[Object(v.jsx)(z.a,{variant:"outlined",size:"small",id:"txt-username",label:"Username",fullWidth:!0,value:t,onChange:a("username"),style:s}),Object(v.jsx)(z.a,{variant:"outlined",size:"small",id:"txt-password",label:"Password",fullWidth:!0,value:n,onChange:a("password"),type:"password",style:s}),Object(v.jsx)(A.a,{variant:"contained",size:"large",className:"btn-primary",onClick:r,fullWidth:!0,style:s,children:"LOGIN"})]})]})})}}]),n}(M);n(139);window.App={};var W=function(){return Object(v.jsxs)(c.a,{children:[Object(v.jsx)(E,{}),Object(v.jsx)(f,{}),Object(v.jsx)(o.a,{exact:!0,path:"/",component:R}),Object(v.jsx)(o.a,{exact:!0,path:"/cattle",component:P}),Object(v.jsx)(o.a,{exact:!0,path:"/cattle/:id",component:N})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root")),J()}},[[140,1,2]]]);
//# sourceMappingURL=main.cff79ac2.chunk.js.map